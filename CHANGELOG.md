# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

Changes that change the generated API have a ‚ö†Ô∏è.

## [0.6.0] 2022-03-02
### Changed
- Bump required Crystal version to 1.3.2 since I'm only testing with this version ü§∑Ô∏è.

### Fixed
- Fix signals with nullable parameters.
- Fix methods returning arrays of primitive types of any kind.

## [0.5.0] 2022-02-18
### Added
- ‚ö†Ô∏è Implement functions that return non-null terminated array of strings.
- Added bindings for GLib::Bytes.

### Changed
- Convert compare-api tool to Crystal and improve it a lot, it will be a good tool to detect patches that break the API üòéÔ∏è.
- Remove bindings for GLib `KeyFile` class, INI module in Crystal stdlib can replace it.

### Fixed
- `void*` return values in C are translated to `Pointer(Void)` instead of `Pointer(Nil)`.
- Constructors that may return `nil` now have the correct return type restriction.
- GObjetct flags with no elements are generated as a enum instead of a constant.

## [0.4.0] 2022-01-29
### Added
- Add `./bin/compare-api` script to compare APIs generated by two different versions of `gi-crystal`.
- Generate raw documentation for constants and enums.
- Print more GI annotations on generated code to ease debug.

### Changed
- Revert auto require of GObject module on gi-crystal since it makes the compiles require the file twice.

### Fixed
- ‚ö†Ô∏è Fix binding of functions with GError and more than one parameter.
- ‚ö†Ô∏è Constructor methods always return their own type despite the C function returns the parent type or not.

## [0.3.0] - 2022-01-23
### Changed
- Binding configuration now must be in binding.yml files.
- Command line no more need config paths, etc. gi-crystal can detect all bindings in the project and generate them.
- Need to run bin/gi-crystal manually before compile any project usign gi-crystal.
- Binding extra files are no longer copied into to generated output dir, but included directly.
- All generated files are now created under `lib/gi-crystal/src/auto/<module_dir>` by default.
- GError are now translated to Crystal exceptions.
- GLib/GObject bindings are required when `gi-crystal` is required.

## [0.2.0] - 2022-01-09
### Fixed
- Interfaces returned by methods can be used in GValues.
- Append `?` to property getters that starts with `is_`.
- Constructors with transfer none proper handle reference counting.
- Always use fully qualified names on property return types

### Added
- `-Ddebugmemory` compiler option can be used to debug `finalize` calls.

## [0.1.0] - 2021-10-15
 - First Release.
